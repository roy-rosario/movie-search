{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/royro/Desktop/react-github/muvi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/royro/Desktop/react-github/muvi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\royro\\\\Desktop\\\\react-github\\\\muvi\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from'react';import MovieCard from'./MovieCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function MovieContainer(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),movieList=_useState4[0],setMovieList=_useState4[1];function searchMovies(_x){return _searchMovies.apply(this,arguments);}function _searchMovies(){_searchMovies=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var url,res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();url=\"https://api.themoviedb.org/3/search/movie?api_key=644de5e9d44295560e561228927bfa2a&language=en-US&query=\".concat(query,\"&page=1&include_adult=false\");if(!query){_context.next=17;break;}_context.prev=3;_context.next=6;return fetch(url);case 6:res=_context.sent;_context.next=9;return res.json();case 9:data=_context.sent;setMovieList(data.results);console.log(movieList);_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](3);console.error(_context.t0);case 17:case\"end\":return _context.stop();}}},_callee,null,[[3,14]]);}));return _searchMovies.apply(this,arguments);}return/*#__PURE__*/_jsxs(_Fragment,{children:[\"  \",/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"powered by\"}),/*#__PURE__*/_jsx(\"a\",{href:\"https://www.themoviedb.org/?language=en-US\",children:/*#__PURE__*/_jsx(\"img\",{className:\"logo\",src:\"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg\",alt:\"TMBD's logo\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"title-border\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Movie Searcher\"})}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:searchMovies,children:[/*#__PURE__*/_jsx(\"label\",{className:\"small\",htmlFor:\"query\",children:\"Search Movies\"}),/*#__PURE__*/_jsx(\"input\",{class:\"input\",type:\"text\",name:\"query\",value:query,onChange:function onChange(e){var value=e.target.value;setQuery(value);},placeholder:\"i.e. Jurassic Park, The Matrix, etc.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",children:\"Search\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"collection\",children:movieList.filter(function(movie){return movie.poster_path;}).map(function(movie){return/*#__PURE__*/_jsx(MovieCard,{movie:movie},movie.id);})})]});}export default MovieContainer;","map":{"version":3,"sources":["C:/Users/royro/desktop/react-github/muvi/src/MovieContainer.js"],"names":["React","useState","MovieCard","MovieContainer","query","setQuery","movieList","setMovieList","searchMovies","e","preventDefault","url","fetch","res","json","data","results","console","log","error","value","target","filter","movie","poster_path","map","id"],"mappings":"uYAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,C,6IAIA,QAASC,CAAAA,cAAT,EAAyB,CAErB,cAA0BF,QAAQ,CAAC,EAAD,CAAlC,wCAAOG,KAAP,eAAcC,QAAd,eACA,eAAkCJ,QAAQ,CAAC,EAAD,CAA1C,yCAAOK,SAAP,eAAkBC,YAAlB,eAHqB,QAKNC,CAAAA,YALM,gJAKrB,iBAA4BC,CAA5B,mIAEQA,CAAC,CAACC,cAAF,GAEMC,GAJd,mHAI+HP,KAJ/H,oCAMWA,KANX,gEAQsCQ,CAAAA,KAAK,CAACD,GAAD,CAR3C,QAQ0BE,GAR1B,qCASuCA,CAAAA,GAAG,CAACC,IAAJ,EATvC,QAS0BC,IAT1B,eAUoBR,YAAY,CAACQ,IAAI,CAACC,OAAN,CAAZ,CACAC,OAAO,CAACC,GAAR,CAAYZ,SAAZ,EAXpB,iFAaoBW,OAAO,CAACE,KAAR,cAbpB,qEALqB,+CAwBrB,mBACI,6CAAI,uCACI,oCADJ,cAEI,UAAG,IAAI,CAAC,4CAAR,uBAAqD,YAAK,SAAS,CAAC,MAAf,CAAsB,GAAG,CAAC,iIAA1B,CAA4J,GAAG,CAAC,aAAhK,EAArD,EAFJ,GAAJ,cAKI,YAAK,SAAS,CAAC,cAAf,uBACA,sCADA,EALJ,cAQI,cAAM,SAAS,CAAC,MAAhB,CAAuB,QAAQ,CAAGX,YAAlC,wBACI,cACA,SAAS,CAAC,OADV,CAEA,OAAO,CAAC,OAFR,2BADJ,cAOI,cACA,KAAK,CAAG,OADR,CAEA,IAAI,CAAG,MAFP,CAGA,IAAI,CAAE,OAHN,CAIA,KAAK,CAAGJ,KAJR,CAKA,QAAQ,CAAG,kBAACK,CAAD,CAAM,CACT,GAAOW,CAAAA,KAAP,CAAgBX,CAAC,CAACY,MAAlB,CAAOD,KAAP,CACAf,QAAQ,CAACe,KAAD,CAAR,CACH,CARL,CASA,WAAW,CAAE,sCATb,EAPJ,cAkBI,eAAQ,SAAS,CAAG,QAApB,oBAlBJ,GARJ,cA4BI,YAAK,SAAS,CAAG,YAAjB,UACKd,SAAS,CAACgB,MAAV,CAAiB,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACC,WAAV,EAAtB,EACIC,GADJ,CACQ,SAAAF,KAAK,CAAI,CACV,mBACI,KAAC,SAAD,EAA4B,KAAK,CAAGA,KAApC,EAAkBA,KAAK,CAACG,EAAxB,CADJ,CAGH,CALJ,CADL,EA5BJ,GADJ,CAuCH,CAED,cAAevB,CAAAA,cAAf","sourcesContent":["import React, {useState} from 'react'\r\nimport MovieCard from './MovieCard'\r\n\r\n\r\n\r\nfunction MovieContainer(){\r\n\r\n    const [query, setQuery] = useState(\"\")\r\n    const [movieList, setMovieList] = useState([])\r\n\r\n    async function searchMovies(e){\r\n\r\n            e.preventDefault()\r\n            \r\n            const url = `https://api.themoviedb.org/3/search/movie?api_key=644de5e9d44295560e561228927bfa2a&language=en-US&query=${query}&page=1&include_adult=false`\r\n            \r\n            if(query){\r\n                    try{\r\n                        const res = await fetch(url)\r\n                        const data = await res.json()\r\n                        setMovieList(data.results)\r\n                        console.log(movieList)\r\n                    }catch(err){\r\n                        console.error(err)\r\n                    }\r\n                }\r\n        \r\n        }\r\n\r\n    return(\r\n        <>  <header>\r\n                <span>powered by</span>\r\n                <a href=\"https://www.themoviedb.org/?language=en-US\"><img className=\"logo\" src='https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg' alt=\"TMBD's logo\"/>\r\n                </a>\r\n            </header>\r\n            <div className='title-border'>\r\n            <h1>Movie Searcher</h1>\r\n            </div>\r\n            <form className=\"form\" onSubmit ={searchMovies}>\r\n                <label \r\n                className=\"small\" \r\n                htmlFor=\"query\"\r\n                >\r\n                    Search Movies\r\n                </label>\r\n                <input  \r\n                class = 'input'\r\n                type = \"text\" \r\n                name= \"query\" \r\n                value ={query} \r\n                onChange= {(e) =>{\r\n                        const {value} = e.target\r\n                        setQuery(value)\r\n                    }}\r\n                placeholder ='i.e. Jurassic Park, The Matrix, etc.'\r\n                />\r\n                <button className = 'button'>Search</button>\r\n            </form>\r\n            <div className = 'collection'>\r\n                {movieList.filter(movie => movie.poster_path)\r\n                    .map(movie => {\r\n                        return(\r\n                            <MovieCard key = {movie.id} movie ={movie}/>\r\n                        )\r\n                    })}\r\n            </div>\r\n        </>\r\n    )    \r\n}\r\n\r\nexport default MovieContainer"]},"metadata":{},"sourceType":"module"}